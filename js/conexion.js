const _0x5a7372=_0x3eb1;(function(_0xc1105f,_0x21675c){const _0x19a7f4=_0x3eb1,_0x447c1f=_0xc1105f();while(!![]){try{const _0x35858d=-parseInt(_0x19a7f4(0xa2))/0x1*(parseInt(_0x19a7f4(0xe3))/0x2)+-parseInt(_0x19a7f4(0xb3))/0x3*(parseInt(_0x19a7f4(0xce))/0x4)+-parseInt(_0x19a7f4(0x99))/0x5+-parseInt(_0x19a7f4(0xb0))/0x6+-parseInt(_0x19a7f4(0xaf))/0x7+-parseInt(_0x19a7f4(0xc3))/0x8+parseInt(_0x19a7f4(0xc0))/0x9*(parseInt(_0x19a7f4(0xd3))/0xa);if(_0x35858d===_0x21675c)break;else _0x447c1f['push'](_0x447c1f['shift']());}catch(_0x33c11c){_0x447c1f['push'](_0x447c1f['shift']());}}}(_0x5331,0xd6e31));var fileArray=[],cambios=!![],open_program_control=![],xml_from_device='',ini=![],mns=![],msg_mns='',msg_ini='',show=!![],antiblock=![],lib_r=![],msg_lib='',libs=[];let port,reader,inputStream,outputStream,keepReading=!![];async function connect(){const _0x4dfd8a=_0x3eb1;try{port=await navigator[_0x4dfd8a(0x9b)][_0x4dfd8a(0xeb)](),await port['open']({'baudRate':0x1c200}),port[_0x4dfd8a(0xdb)]('disconnect',()=>{const _0xb561b0=_0x4dfd8a;logToTerminal(_0xb561b0(0xec)),disconnect(),btn_disconected(),refreshFiles();}),inputStream=port['readable'],outputStream=port[_0x4dfd8a(0xd6)],reader=inputStream[_0x4dfd8a(0xdc)](),keepReading=!![],readLoop(),logToTerminal(_0x4dfd8a(0x85));}catch(_0x3d06d2){logToTerminal(_0x4dfd8a(0x101)+_0x3d06d2),btn_disconected();}}async function reconnect(){const _0x408cbb=_0x3eb1;try{await port[_0x408cbb(0xe8)]({'baudRate':0x1c200}),port[_0x408cbb(0xdb)]('disconnect',()=>{const _0x118a36=_0x408cbb;logToTerminal(_0x118a36(0xec)),disconnect(),btn_disconected(),refreshFiles();}),inputStream=port['readable'],outputStream=port['writable'],reader=inputStream['getReader'](),keepReading=!![],readLoop(),logToTerminal(_0x408cbb(0x85));}catch(_0x2eae5f){logToTerminal(_0x408cbb(0x101)+_0x2eae5f),btn_disconected();}}async function disconnect(){const _0x2c6754=_0x3eb1;keepReading=![],reader&&(await reader['cancel'](),reader=null),outputStream&&(await outputStream[_0x2c6754(0x8a)]()[_0x2c6754(0xa5)](),outputStream=null),port&&(await port[_0x2c6754(0xa5)](),port=null,logToTerminal(_0x2c6754(0x7f)));}async function sendMessage(_0x44ae73){const _0xfcf606=_0x3eb1;if(!_0x44ae73||!outputStream)return;const _0x98c1ab=outputStream[_0xfcf606(0x8a)](),_0x40170e=new TextEncoder();await _0x98c1ab[_0xfcf606(0x79)](_0x40170e['encode'](_0x44ae73+'\x0a')),await new Promise(_0x9293d4=>setTimeout(_0x9293d4,0x32)),_0x98c1ab['releaseLock']();}async function readLoop(){const _0x5652d4=_0x3eb1,_0x982f09=new TextDecoder();while(keepReading&&reader){try{const {value:_0x5b70a8,done:_0x5255c9}=await reader['read']();if(_0x5255c9)break;if(_0x5b70a8){const _0xa022c7=_0x982f09['decode'](_0x5b70a8);if(ini==!![])msg_ini=msg_ini+_0xa022c7;else{if(mns==!![])msg_mns=msg_mns+_0xa022c7;else{if(lib_r==!![])msg_lib=msg_lib+_0xa022c7;else{if(show==![]){}else console['log'](_0x5652d4(0xee)),logToTerminal(_0x5652d4(0x91)+_0xa022c7);}}}}}catch(_0x2c7241){logToTerminal('❌\x20Error\x20al\x20leer:\x20'+_0x2c7241);break;}}}const usbBtn=document[_0x5a7372(0x8f)](_0x5a7372(0xcd)),btBtn=document['getElementById'](_0x5a7372(0xc5)),uploadBtn=document['querySelector'](_0x5a7372(0xd4));function btn_conected(){const _0x19649a=_0x5a7372;usbBtn['textContent']=_0x19649a(0xa0),btBtn[_0x19649a(0xd7)]=!![],btBtn[_0x19649a(0xcf)][_0x19649a(0x8b)]=_0x19649a(0xba),isConnected=!![],uploadBtn[_0x19649a(0x7d)][_0x19649a(0xd2)](_0x19649a(0xd7)),uploadBtn[_0x19649a(0xd7)]=![];}function btn_disconected(){const _0x2f6b99=_0x5a7372;usbBtn[_0x2f6b99(0x7d)][_0x2f6b99(0xd2)](_0x2f6b99(0xb8)),usbBtn['textContent']=_0x2f6b99(0x95),btBtn[_0x2f6b99(0xd7)]=![],btBtn['style']['opacity']='1',isConnected=![],uploadBtn[_0x2f6b99(0x7d)][_0x2f6b99(0xcc)](_0x2f6b99(0xd7)),uploadBtn['disabled']=!![],isUploading&&(isUploading=![],uploadBtn[_0x2f6b99(0xbb)]=_0x2f6b99(0xf3),uploadBtn[_0x2f6b99(0x7d)][_0x2f6b99(0xd2)](_0x2f6b99(0x96)));}function esperar(_0x28b1d8){return new Promise(_0x58543e=>setTimeout(_0x58543e,_0x28b1d8));}function escapeAndChunkCodeSafe(_0x3982f7,_0x48e8b1=0x64){const _0x314477=_0x5a7372,_0x5149e8=_0x3982f7['replace'](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x314477(0xa8)](/\n/g,'\x5cn'),_0x4fd3a3=[];let _0x5047b1=0x0;while(_0x5047b1<_0x5149e8['length']){let _0x156bd4=_0x5047b1+_0x48e8b1;while(_0x156bd4>_0x5047b1&&_0x5149e8[_0x156bd4-0x1]==='\x5c'){_0x156bd4--;}_0x4fd3a3['push'](_0x5149e8[_0x314477(0xf0)](_0x5047b1,_0x156bd4)),_0x5047b1=_0x156bd4;}return _0x4fd3a3;}async function S_R(_0xf9b735,_0x3f2048){const _0x4c0b7e=_0x5a7372,_0x38e424=escapeAndChunkCodeSafe(_0xf9b735);await sendMessage(_0x4c0b7e(0x9d)+_0x3f2048+'\x27,\x20\x27w\x27)\x0d'),await esperar(0x64);for(const _0x1d373a of _0x38e424){await sendMessage('f.write(\x22'+_0x1d373a+_0x4c0b7e(0xfa)),console['log'](_0x4c0b7e(0x8d)+_0x1d373a+_0x4c0b7e(0xfa)),await esperar(0x64);}await sendMessage('f.close()\x0d'),await esperar(0x64);}async function update_info(){const _0xfd14f1=_0x5a7372;msg_mns='',mns=!![],await sendMessage(_0xfd14f1(0x9e)),await esperar(0x64),mns=![];if(msg_mns['includes'](_0xfd14f1(0xa7))||antiblock==!![])console[_0xfd14f1(0xf7)]('carga\x20disponible');else{show=![];const _0x4deb22=_0xfd14f1(0xb5);try{await S_R(_0x4deb22,_0xfd14f1(0xe2)),console['log'](msg_mns),await sendMessage(_0xfd14f1(0x89)),await esperar(0x64),await sendMessage(_0xfd14f1(0x9c)),msg_mns=_0xfd14f1(0xa7),show=!![];return;}catch(_0x1fb205){console[_0xfd14f1(0xf7)](_0x1fb205);}show=!![];}ini=!![],msg_ini='',await sendMessage(_0xfd14f1(0x83)),await esperar(0x64),await sendMessage(_0xfd14f1(0x9f)),await esperar(0x64),await sendMessage(_0xfd14f1(0x81)),await esperar(0x64),await sendMessage(_0xfd14f1(0xca)),await esperar(0x64),await sendMessage(_0xfd14f1(0x97)),await esperar(0x64),await sendMessage(_0xfd14f1(0xd5)),await esperar(0x64);let _0x5a724a=msg_ini[_0xfd14f1(0xf5)](';');ini=![],await esperar(0x64);let _0x510cee=_0x5a724a[0x3]['trim']()[_0xfd14f1(0xa8)](/'/g,'\x22'),_0x373b39=JSON[_0xfd14f1(0xb9)](_0x510cee);_0x373b39=_0x373b39[_0xfd14f1(0x7a)](_0x57d694=>_0x57d694!==_0xfd14f1(0x80)),_0x373b39=_0x373b39['filter'](_0xea1ad=>_0xea1ad!=='main.py'),_0x373b39=_0x373b39[_0xfd14f1(0x7a)](_0x313897=>_0x313897!==_0xfd14f1(0xe7)),fileArray=_0x373b39,fileArray[_0xfd14f1(0xdd)](_0x51bb3e=>{const _0x3c1e2d=_0xfd14f1;requiredFiles[_0x51bb3e]=_0x3c1e2d(0x88)+_0x51bb3e+'\x0a';}),refreshFiles(),console['log'](Number(_0x5a724a[0xb][_0xfd14f1(0x92)]())),(!_0x5a724a[0xb]||_0x5a724a[0xb][_0xfd14f1(0x92)]()=='')&&alert('⚠️\x20Error:\x20Es\x20posible\x20que\x20ya\x20se\x20este\x20ejecuando\x20un\x20programa\x20por\x20favor\x20presione\x20el\x20boton\x20Reset\x20del\x20xrp'),updateMemoryBar(Number(_0x5a724a[0xb][_0xfd14f1(0x92)]()),Number(_0x5a724a[0x7][_0xfd14f1(0x92)]()));}async function toggleUSBConnection(){const _0x2c4034=_0x5a7372;showLoadingOverlay();if(usbBtn[_0x2c4034(0x7d)][_0x2c4034(0xb2)](_0x2c4034(0xb8)))disconnect(),btn_disconected(),refreshFiles();else{usbBtn[_0x2c4034(0x7d)][_0x2c4034(0xcc)](_0x2c4034(0xb8)),refreshFiles();try{await connect(),btn_conected(),keepReading==!![]&&await update_info();}catch{read_memory=![],disconnect(),btn_disconected(),logToTerminal('error\x20al\x20conectar');}}hideLoadingOverlay();}function updateMemoryBar(_0x148bd3,_0x505760){const _0x298052=_0x5a7372,_0x2e2456=_0x148bd3/_0x505760*0x64,_0x2e6562=document[_0x298052(0x8f)](_0x298052(0xbe)),_0x596806=document[_0x298052(0x8f)](_0x298052(0xc8));_0x2e6562[_0x298052(0xcf)][_0x298052(0xa3)]=_0x2e2456+'%',_0x596806[_0x298052(0xbb)]=_0x148bd3+_0x298052(0xa1)+_0x505760+'\x20KB';if(_0x2e2456>0x5a)_0x2e6562[_0x298052(0xcf)]['backgroundColor']=_0x298052(0xd9);else _0x2e2456>0x46?_0x2e6562[_0x298052(0xcf)][_0x298052(0xfc)]='#ffaa33':_0x2e6562[_0x298052(0xcf)][_0x298052(0xfc)]=_0x298052(0xad);}workspace[_0x5a7372(0xe5)](function(_0xd13d69){const _0x42eff1=_0x5a7372;(_0xd13d69['type']===Blockly[_0x42eff1(0xc4)][_0x42eff1(0x7c)]||_0xd13d69['type']===Blockly[_0x42eff1(0xc4)]['BLOCK_DELETE']||_0xd13d69[_0x42eff1(0xe9)]===Blockly['Events']['BLOCK_CHANGE']||_0xd13d69[_0x42eff1(0xe9)]===Blockly[_0x42eff1(0xc4)][_0x42eff1(0xbd)])&&(console[_0x42eff1(0xf7)](_0x42eff1(0xc7)),cambios=!![]);});async function save_code(){const _0x47ffff=_0x5a7372;let _0x2ce4e2=document['getElementById'](_0x47ffff(0xb6))[_0x47ffff(0x82)],_0x513ca=Blockly['Python']['workspaceToCode'](workspace);const _0x4bfe35=Blockly['Xml']['workspaceToDom'](workspace),_0x4e6eae=Blockly['Xml'][_0x47ffff(0x90)](_0x4bfe35);try{show=![],await S_R(_0x513ca,'running.py'),await S_R(_0x4e6eae,_0x2ce4e2+'.Fblocks'),show=!![],await update_info();}catch(_0x37aaf6){return logToTerminal(_0x37aaf6),![];}return!![];}async function ejecutar(){const _0xc622d5=_0x5a7372;cambios==!![]&&(antiblock=!![],await save_code(),antiblock=![]),show=![],await sendMessage(_0xc622d5(0xdf)),await esperar(0xa),show=!![],console[_0xc622d5(0xf7)]('iniciando\x20programa'),await esperar(0x64);}function _0x3eb1(_0x312816,_0x47b676){const _0x533126=_0x5331();return _0x3eb1=function(_0x3eb11d,_0xd5cd07){_0x3eb11d=_0x3eb11d-0x79;let _0x4d2ad2=_0x533126[_0x3eb11d];return _0x4d2ad2;},_0x3eb1(_0x312816,_0x47b676);}async function detener(){const _0x2191a3=_0x5a7372;console[_0x2191a3(0xf7)]('detenendo'),await sendMessage(_0x2191a3(0x89)),await esperar(0xa),await sendMessage(_0x2191a3(0x9c)),await esperar(0xa),toggleUSBConnection(),logToTerminal('Por\x20favor\x20reinicie\x20el\x20xrp\x20con\x20el\x20boton\x20reset'),alert(_0x2191a3(0x9a));}function esperarHastaOTimeout(_0x55c0ee,_0x9ca3f2=0x1388,_0x375b2a=0x64){return new Promise(_0x1aae8b=>{const _0x2033ed=_0x3eb1,_0x10fe35=Date[_0x2033ed(0xa9)](),_0x8c25a1=()=>{if(_0x55c0ee())_0x1aae8b(!![]);else Date['now']()-_0x10fe35>=_0x9ca3f2?_0x1aae8b(![]):setTimeout(_0x8c25a1,_0x375b2a);};_0x8c25a1();});}async function openLibraryManager(){const _0x1a340e=_0x5a7372;if(isUploading){logToTerminal(_0x1a340e(0xa6)),alert(_0x1a340e(0x100));return;}if(!isConnected){logToTerminal(_0x1a340e(0xcb)),alert(_0x1a340e(0xe4));return;}showLoadingOverlay(),msg_lib='',lib_r=!![],await sendMessage(_0x1a340e(0x83)),await esperar(0xa),await sendMessage(_0x1a340e(0x8c)),await esperar(0xa),await sendMessage('print(\x27;\x27,\x20f.read(),\x27;\x27)\x0d'),await esperar(0xa),await sendMessage(_0x1a340e(0xed)),await esperar(0x64),lib_r=![];let _0xf0b121=msg_lib[_0x1a340e(0xf5)](';');libs=_0xf0b121[0x3]['split'](',')[_0x1a340e(0xf4)](_0x4cf0ee=>_0x4cf0ee['trim']());libs[0x0]==0x0&&(libraries[0x0][_0x1a340e(0xe1)]=_0x1a340e(0x84),libraries[0x0]['installedVersion']=null);libs[0x1]==0x0&&(libraries[0x1][_0x1a340e(0xe1)]='not-installed',libraries[0x1][_0x1a340e(0xff)]=null);libs[0x2]==0x0&&(libraries[0x2]['status']=_0x1a340e(0x84),libraries[0x2]['installedVersion']=null);const _0x456770=document['querySelector'](_0x1a340e(0x8e));_0x456770[_0x1a340e(0xcf)]['display']=_0x1a340e(0xd0),await loadLibraries(),hideLoadingOverlay();}async function leerArchivo(_0xe18c69){const _0x3e935c=_0x5a7372,_0x489619=await fetch(_0xe18c69);return _0x489619['ok']?await _0x489619['text']():_0x3e935c(0xfb);}async function installLibrary(_0x4cd6f0){const _0x7f9260=_0x5a7372;showLoadingOverlay();const _0x10b6db=document['getElementById'](_0x7f9260(0xb4)+_0x4cd6f0),_0x480372=_0x10b6db[_0x7f9260(0x82)];showLoadingOverlay(),logToTerminal(_0x7f9260(0xf6)+_0x4cd6f0+'\x20v'+_0x480372+'...');try{logToTerminal(_0x7f9260(0xde)+_0x4cd6f0+'\x20v'+_0x480372+_0x7f9260(0xf9)),loadLibraries();}catch(_0x40493c){logToTerminal(_0x7f9260(0x87)+_0x4cd6f0+':\x20'+_0x40493c[_0x7f9260(0x93)]);}finally{hideLoadingOverlay();}hideLoadingOverlay();}async function openRobotConfig(){const _0x20ab93=_0x5a7372;if(isUploading){logToTerminal(_0x20ab93(0xea)),alert(_0x20ab93(0xc1));return;}if(!isConnected){logToTerminal(_0x20ab93(0xef)),alert(_0x20ab93(0xd1));return;}showLoadingOverlay(),msg_lib='',lib_r=!![],await sendMessage(_0x20ab93(0x83)),await esperar(0xa),await sendMessage(_0x20ab93(0x94)),await esperar(0xa),await sendMessage(_0x20ab93(0x86)),await esperar(0xa),await sendMessage('f.close()\x0d'),await esperar(0x64),lib_r=![];let _0x2b98a6=msg_lib['split'](';');_0x2b98a6[0x3]=_0x2b98a6[0x3]['trim'](),console[_0x20ab93(0xf7)](_0x2b98a6[0x3]);const _0x418d3d={'0':'pc','1':_0x20ab93(0xf2),'2':'auto'};document[_0x20ab93(0x7e)]('input[name=\x22startup\x22][value=\x22'+_0x418d3d[String(_0x2b98a6[0x3])]+'\x22]')[_0x20ab93(0xae)]=!![],document['querySelector'](_0x20ab93(0xa4))['style']['display']='flex',logToTerminal(_0x20ab93(0xe0)),hideLoadingOverlay();}function _0x5331(){const _0x58a522=['[[NI]]','13828608DYnwXS','Events','connectBTButton','f\x20=\x20open(\x27/confi.txt\x27,\x27w\x27)\x0d','El\x20código\x20ha\x20cambiado.','memoryText','f.write(\x27','print(\x27;\x27,\x20(fs[0]\x20*\x20fs[2])\x20//\x201024,\x27;\x27)\x0d','Error:\x20Debe\x20conectarse\x20a\x20un\x20dispositivo\x20para\x20actualizar\x20las\x20librerías','add','connectUSBButton','3723268ymUZyH','style','flex','Debe\x20conectarse\x20a\x20un\x20dispositivo\x20primero','remove','67496730LOGTFM','.button[onclick=\x22uploadToDevice()\x22]','print(\x27;\x27,\x20(fs[0]\x20*\x20used_blocks)//\x201024,\x27;\x27)\x0d','writable','disabled','text/xml','#ff4444','documentElement','addEventListener','getReader','forEach','Biblioteca\x20','start()\x0d','Abriendo\x20configuración\x20del\x20robot','status','main.py','20518ZqCfNf','Debe\x20conectarse\x20a\x20un\x20dispositivo\x20para\x20actualizar\x20las\x20librerías','addChangeListener','Continuando...\x20cambios\x20no\x20guardados\x20se\x20perderán.','running.py','open','type','Error:\x20No\x20se\x20puede\x20configurar\x20el\x20robot\x20mientras\x20un\x20programa\x20está\x20en\x20ejecución.','requestPort','🔌\x20Cable\x20desconectado','f.close()\x0d','ejecuto\x20print','Error:\x20Debe\x20conectarse\x20a\x20un\x20dispositivo\x20primero','slice','[[read]],','button','Iniciar\x20programa','map','split','Instalando\x20biblioteca\x20','log','[[files]]','\x20instalada\x20exitosamente','\x22)\x0d','Error\x20al\x20leer\x20el\x20archivo.','backgroundColor','[[BI]]','substring','installedVersion','No\x20se\x20pueden\x20actualizar\x20las\x20librerías\x20mientras\x20un\x20programa\x20está\x20en\x20ejecución.','❌\x20Error\x20al\x20conectar:\x20','write','filter','Xml','BLOCK_CREATE','classList','querySelector','🔴\x20Desconectado','lib','print(\x27;\x27,\x20os.listdir(),\x27;\x27)\x0d','value','import\x20os\x0d','not-installed','🟢\x20Conectado\x20al\x20puerto\x20serial','print(\x27;\x27,\x20f.read(),\x27;\x27)\x0d','Error\x20al\x20instalar\x20la\x20biblioteca\x20','#\x20Archivo\x20','import\x20machine\x0d','getWriter','opacity','f\x20=\x20open(\x27/lib/versiones.txt\x27,\x27r\x27)\x0d','f.write(\x22','.library-modal','getElementById','domToPrettyText','XRP:\x20','trim','message','f\x20=\x20open(\x27/confi.txt\x27,\x27r\x27)\x0d','Conectar\x20por\x20USB','uploading','used_blocks\x20=\x20fs[2]\x20-\x20fs[3]\x0d','[[memory]]','6753470WETIeQ','presione\x20el\x20boton\x20reset\x20del\x20xrp\x20antes\x20de\x20volver\x20a\x20conectarse','serial','machine.reset()\x0d','f\x20=\x20open(\x27','print(F_ini_IDE)\x0d','fs\x20=\x20os.statvfs(\x27/\x27)\x0d','Desconectar\x20USB','\x20KB\x20/\x20','6OfHjhP','width','.robot-config-modal','close','Error:\x20No\x20se\x20pueden\x20actualizar\x20las\x20librerías\x20mientras\x20un\x20programa\x20está\x20en\x20ejecución.','V1.0','replace','now','⚠️\x20Se\x20borrarán\x20los\x20cambios\x20no\x20guardados.\x0a¿Deseas\x20continuar?','clear','\x27)\x0d','#1880bf','checked','12122530oopSNt','396390KFvseH','indexOf','contains','3hKwXcg','version-select-','F_ini_IDE\x20=\x20\x22V1.0\x22\x0afrom\x20machine\x20import\x20Timer\x0aimport\x20machine\x0aimport\x20os\x0aled\x20=\x20machine.Pin(\x22LED\x22,\x20machine.Pin.OUT)\x0aled_state\x20=\x20False\x0atimer\x20=\x20Timer()\x0acontenido\x20=\x20\x270\x27\x0arun\x20=\x20False\x0atry:\x0a\x20\x20\x20\x20from\x20XRPLib.board\x20import\x20Board\x0a\x20\x20\x20\x20board\x20=\x20Board.get_default_board()\x0aexcept\x20Exception\x20as\x20e:\x0a\x20\x20\x20\x20print(f\x22Error:\x20{e}\x22)\x0aif\x20\x22lib\x22\x20not\x20in\x20os.listdir():\x0a\x20\x20\x20\x20os.mkdir(\x22lib\x22)\x0afor\x20folder\x20in\x20[\x22FusalmoLib\x22,\x20\x22ble\x22,\x20\x22phew\x22,\x20\x22XRPLib\x22]:\x0a\x20\x20\x20\x20if\x20folder\x20not\x20in\x20os.listdir(\x22/lib\x22):\x0a\x20\x20\x20\x20\x20\x20\x20\x20os.mkdir(f\x22/lib/{folder}\x22)\x0aif\x20\x22versiones.txt\x22\x20not\x20in\x20os.listdir(\x22/lib\x22):\x0a\x20\x20\x20\x20with\x20open(\x22/lib/versiones.txt\x22,\x20\x22w\x22)\x20as\x20f:\x0a\x20\x20\x20\x20\x20\x20\x20\x20f.write(\x220,0,0\x22)\x0aif\x20\x22confi.txt\x22\x20not\x20in\x20os.listdir():\x0a\x20\x20\x20\x20with\x20open(\x22/confi.txt\x22,\x20\x22w\x22)\x20as\x20f:\x0a\x20\x20\x20\x20\x20\x20\x20\x20f.write(\x220\x22)\x0awith\x20open(\x27confi.txt\x27,\x20\x27r\x27)\x20as\x20f:\x0a\x20\x20\x20\x20contenido\x20=\x20f.read()\x0adef\x20blink(t):\x0a\x20\x20\x20\x20global\x20led_state\x0a\x20\x20\x20\x20led.value(not\x20led_state)\x0a\x20\x20\x20\x20led_state\x20=\x20not\x20led_state\x0a\x20\x20\x20\x20if\x20run:\x0a\x20\x20\x20\x20\x20\x20\x20\x20t.deinit()\x0a\x20\x20\x20\x20\x20\x20\x20\x20led.value(0)\x0a\x20\x20\x20\x20try:\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20contenido\x20==\x20\x271\x27\x20and\x20board.is_button_pressed():\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20start()\x0a\x20\x20\x20\x20except\x20Exception\x20as\x20e:\x0a\x20\x20\x20\x20\x20\x20\x20\x20print(f\x22Error:\x20{e}\x22)\x0atimer.init(freq=3,\x20mode=Timer.PERIODIC,\x20callback=blink)\x0adef\x20start():\x0a\x20\x20\x20\x20global\x20run\x0a\x20\x20\x20\x20run\x20=\x20True\x0a\x20\x20\x20\x20import\x20running\x0atry:\x0a\x20\x20\x20\x20if\x20contenido\x20==\x20\x272\x27\x20and\x20(not\x20board.is_button_pressed()):\x0a\x20\x20\x20\x20\x20\x20\x20\x20start()\x0aexcept\x20Exception\x20as\x20e:\x0a\x20\x20\x20\x20\x20\x20\x20\x20print(f\x22Error:\x20{e}\x22)\x0a\x0a\x0a','fileName','</xml>','disconnected','parse','0.5','textContent','parseFromString','BLOCK_MOVE','memoryFill','[[AI]]','9CujIYT','No\x20se\x20puede\x20configurar\x20el\x20robot\x20mientras\x20un\x20programa\x20está\x20en\x20ejecución.'];_0x5331=function(){return _0x58a522;};return _0x5331();}async function guardar_confi(_0x488cf7){const _0x2be6de=_0x5a7372;show=![],await sendMessage(_0x2be6de(0x83)),await esperar(0xa),await sendMessage(_0x2be6de(0xc6)),await esperar(0xa),await sendMessage(_0x2be6de(0xc9)+_0x488cf7+_0x2be6de(0xac)),await esperar(0xa),await sendMessage(_0x2be6de(0xed)),await esperar(0x64),show=!![];}async function open_program(_0x5068e2){const _0x5f0a95=_0x5a7372;showLoadingOverlay();if(confirm(_0x5f0a95(0xaa))){console[_0x5f0a95(0xf7)](_0x5f0a95(0xe6));try{xml_from_device='',open_program_control=!![],await sendMessage(_0x5f0a95(0xf1)+_0x5068e2),await esperar(0x64),await esperarHastaOTimeout(()=>open_program_control==![]);const _0x2578c0=xml_from_device[_0x5f0a95(0xb1)](_0x5f0a95(0xb7));_0x2578c0!==-0x1&&(xml_from_device=xml_from_device[_0x5f0a95(0xfe)](0x0,_0x2578c0+0x6));workspace[_0x5f0a95(0xab)]();const _0x4479e5=new DOMParser(),_0x3ba126=_0x4479e5[_0x5f0a95(0xbc)](xml_from_device,_0x5f0a95(0xd8));Blockly[_0x5f0a95(0x7b)]['domToWorkspace'](_0x3ba126[_0x5f0a95(0xda)],workspace);}catch(_0x48fabc){return logToTerminal(_0x48fabc),![];}}hideLoadingOverlay();}async function delete_program(_0x273bae){const _0x2cab27=_0x5a7372;showLoadingOverlay();try{await sendMessage('[[delete]],'+_0x273bae),await esperar(0x64),await sendMessage('[[memory]]'),await esperar(0x64),requiredFiles={},await sendMessage('[[files]]'),await esperar(0x64),fileArray[_0x2cab27(0xdd)](_0x3d59ac=>{requiredFiles[_0x3d59ac]='#\x20Archivo\x20'+_0x3d59ac+'\x0a';}),refreshFiles();}catch(_0x4f4464){return logToTerminal(_0x4f4464),![];}hideLoadingOverlay();}async function renombrar(_0x4b6f08,_0x29e216){const _0x2b6c43=_0x5a7372;showLoadingOverlay();try{await sendMessage('[[rename]],'+_0x4b6f08+','+_0x29e216),await esperar(0x64),await sendMessage(_0x2b6c43(0x98)),await esperar(0x64),requiredFiles={},await sendMessage(_0x2b6c43(0xf8)),await esperar(0x64),fileArray['forEach'](_0x3ee751=>{const _0x17786c=_0x2b6c43;requiredFiles[_0x3ee751]=_0x17786c(0x88)+_0x3ee751+'\x0a';}),refreshFiles();}catch(_0x499480){return logToTerminal(_0x499480),![];}hideLoadingOverlay();}async function autoini(){const _0x2c206f=_0x5a7372;showLoadingOverlay(),await sendMessage(_0x2c206f(0xbf)),await esperar(0x64),hideLoadingOverlay();}async function buttonini(_0x2fb9d2){const _0x1229d7=_0x5a7372;showLoadingOverlay(),await sendMessage(_0x1229d7(0xfd)),await esperar(0x64),hideLoadingOverlay();}async function noini(_0x1f5742){const _0x1e168d=_0x5a7372;showLoadingOverlay(),await sendMessage(_0x1e168d(0xc2)),await esperar(0x64),hideLoadingOverlay();}